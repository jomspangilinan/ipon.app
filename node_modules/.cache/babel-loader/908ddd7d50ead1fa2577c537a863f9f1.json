{"ast":null,"code":"var _jsxFileName = \"D:\\\\React Projects\\\\my-app\\\\src\\\\pages\\\\Logout.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { logout } from \"../firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Logout() {\n  _s();\n\n  const [user, loading, error] = useAuthState(auth);\n  const [name, setName] = useState(\"\");\n  const history = useHistory();\n\n  const fetchUserName = async () => {\n    try {\n      const query = await db.collection(\"users\").where(\"uid\", \"==\", user === null || user === void 0 ? void 0 : user.uid).get();\n      const data = await query.docs[0].data();\n      setName(data.name);\n    } catch (err) {\n      console.error(err);\n      alert(\"An error occured while fetching user data\");\n    }\n  };\n\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return history.replace(\"/\");\n    fetchUserName();\n  }, [user, loading]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard__container\",\n      children: [\"Logged in as\", /*#__PURE__*/_jsxDEV(\"div\", {\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: user === null || user === void 0 ? void 0 : user.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"dashboard__btn\",\n        onClick: logout,\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Logout, \"UIWLq39EqjeE6/5d1SCi+Vgcj90=\", true);\n\n_c = Logout;\nexport default Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["D:/React Projects/my-app/src/pages/Logout.js"],"names":["React","logout","Logout","user","loading","error","useAuthState","auth","name","setName","useState","history","useHistory","fetchUserName","query","db","collection","where","uid","get","data","docs","err","console","alert","useEffect","replace","email"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,MAAT,QAAuB,aAAvB;;;AAGA,SAASC,MAAT,GAAkB;AAAA;;AACd,QAAM,CAACC,IAAD,EAAOC,OAAP,EAAgBC,KAAhB,IAAyBC,YAAY,CAACC,IAAD,CAA3C;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBC,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAMC,OAAO,GAAGC,UAAU,EAA1B;;AACA,QAAMC,aAAa,GAAG,YAAY;AAChC,QAAI;AACF,YAAMC,KAAK,GAAG,MAAMC,EAAE,CACnBC,UADiB,CACN,OADM,EAEjBC,KAFiB,CAEX,KAFW,EAEJ,IAFI,EAEEd,IAFF,aAEEA,IAFF,uBAEEA,IAAI,CAAEe,GAFR,EAGjBC,GAHiB,EAApB;AAIA,YAAMC,IAAI,GAAG,MAAMN,KAAK,CAACO,IAAN,CAAW,CAAX,EAAcD,IAAd,EAAnB;AACAX,MAAAA,OAAO,CAACW,IAAI,CAACZ,IAAN,CAAP;AACD,KAPD,CAOE,OAAOc,GAAP,EAAY;AACZC,MAAAA,OAAO,CAAClB,KAAR,CAAciB,GAAd;AACAE,MAAAA,KAAK,CAAC,2CAAD,CAAL;AACD;AACF,GAZD;;AAaAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIrB,OAAJ,EAAa;AACb,QAAI,CAACD,IAAL,EAAW,OAAOQ,OAAO,CAACe,OAAR,CAAgB,GAAhB,CAAP;AACXb,IAAAA,aAAa;AACd,GAJQ,EAIN,CAACV,IAAD,EAAOC,OAAP,CAJM,CAAT;AAKA,sBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA,8CAEE;AAAA,kBAAMI;AAAN;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA,kBAAML,IAAN,aAAMA,IAAN,uBAAMA,IAAI,CAAEwB;AAAZ;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAQ,QAAA,SAAS,EAAC,gBAAlB;AAAmC,QAAA,OAAO,EAAE1B,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAYH;;GAlCQC,M;;KAAAA,M;AAoCT,eAAeA,MAAf","sourcesContent":["import React from 'react';\r\n\r\nimport { logout } from \"../firebase\";\r\n\r\n\r\nfunction Logout() {\r\n    const [user, loading, error] = useAuthState(auth);\r\n    const [name, setName] = useState(\"\");\r\n    const history = useHistory();\r\n    const fetchUserName = async () => {\r\n      try {\r\n        const query = await db\r\n          .collection(\"users\")\r\n          .where(\"uid\", \"==\", user?.uid)\r\n          .get();\r\n        const data = await query.docs[0].data();\r\n        setName(data.name);\r\n      } catch (err) {\r\n        console.error(err);\r\n        alert(\"An error occured while fetching user data\");\r\n      }\r\n    };\r\n    useEffect(() => {\r\n      if (loading) return;\r\n      if (!user) return history.replace(\"/\");\r\n      fetchUserName();\r\n    }, [user, loading]);\r\n    return (\r\n      <div className=\"dashboard\">\r\n        <div className=\"dashboard__container\">\r\n          Logged in as\r\n          <div>{name}</div>\r\n          <div>{user?.email}</div>\r\n          <button className=\"dashboard__btn\" onClick={logout}>\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Logout;"]},"metadata":{},"sourceType":"module"}