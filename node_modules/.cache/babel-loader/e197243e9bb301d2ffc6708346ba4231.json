{"ast":null,"code":"import moment from \"moment\";\nexport const eachExpense = expenses => {\n  return Object.keys(expenses).map(function (key) {\n    return {\n      key: key,\n      value: expenses[key]\n    };\n  }).sort(function (a, b) {\n    // Turn your strings into dates, and then subtract them\n    // to get a value that is either negative, positive, or zero.\n    return new Date(b.value.date) - new Date(a.value.date);\n  });\n};\nexport const currentUsersExpenses = (eachExpense, currentUser) => {\n  return eachExpense.filter(elem => elem.value.user_id === currentUser.uid);\n}; // expenses in selected month and year\n\nexport const expensesinMonthAndYear = (eachExpense, currentUser, selectedMonth, selectedYear) => {\n  return eachExpense.filter(elem => elem.value.uid === currentUser.uid).filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString()).filter(elem => new Date(elem.value.date).getMonth().toString() === selectedMonth);\n}; // expenses in selected year\n\nexport const expensesinSelectedYear = (eachExpense, currentUser, selectedYear) => {\n  return eachExpense.filter(elem => elem.value.uid === currentUser.uid).filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString());\n}; // expenses in a selected date\n\nexport const expensesInDate = (eachExpense, currentUser, date) => {\n  return eachExpense.filter(elem => elem.value.user_id === currentUser.uid && elem.value.date === date);\n};\nexport const AllExpensesInDate = (eachExpense, currentUser, date) => {\n  return eachExpense.filter(elem => elem.value.user_id === currentUser.uid && elem.value.date === date && elem.value.type === 'expenses');\n}; // expenses in current month\n\n_c = AllExpensesInDate;\nexport const currentMonthExpenses = (eachExpense, currentUser) => {\n  return eachExpense.filter(elem => elem.value.uid === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth() && new Date(elem.value.date).getFullYear() === new Date().getFullYear());\n}; // expense in current year\n\nexport const expensesinCurrentYear = (eachExpense, currentUser) => {\n  return eachExpense.filter(elem => elem.value.uid === currentUser.uid).filter(elem => new Date(elem.value.date).getFullYear().toString() === new Date().getFullYear().toString());\n}; // expenses in a particular month of this year\n\nexport const expensesinMonth = (eachExpense, currentUser, MonthNumber, selectedYear) => {\n  return eachExpense.filter(elem => elem.value.uid === currentUser.uid).filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString()).filter(elem => new Date(elem.value.date).getMonth().toString() === MonthNumber);\n}; // expense today\n\nexport const expensesToday = (eachExpense, currentUser) => {\n  return eachExpense.filter(elem => elem.value.user_id === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth()).filter(elem => new Date(elem.value.date).getDate() === new Date().getDate());\n}; // expense this week\n\nexport const expensesThisWeek = (eachExpense, currentUser) => {\n  return eachExpense.filter(elem => elem.value.uid === currentUser.uid && moment(elem.value.date, \"MM/DD/YYYY\").week() === moment(moment(new Date()), \"MM/DD/YYYY\").week() && moment(elem.value.date, \"MM/DD/YYYY\").year() === moment(moment(new Date()), \"MM/DD/YYYY\").year());\n}; // expenses Total\n\nexport const totalExpense = expenses => {\n  if (expenses.length) {\n    let totalMoney = 0;\n    return expenses.map(elem => Number(elem.value.type === 'income' ? parseFloat(elem.value.price) + totalMoney : totalMoney - parseFloat(elem.value.price))).reduce((prev, cur) => prev + cur);\n  } else {\n    return 0;\n  }\n}; // most spend day\n\nexport const mostSpentDay = expenses => {\n  let monday = 0;\n  let tuesday = 0;\n  let wednesday = 0;\n  let thursday = 0;\n  let friday = 0;\n  let saturday = 0;\n  let sunday = 0;\n  expenses.map(elem => {\n    switch (elem.value.day.toString()) {\n      case \"0\":\n        sunday = sunday + 1;\n        return \"\";\n\n      case \"1\":\n        monday = monday + 1;\n        return \"\";\n\n      case \"2\":\n        tuesday = tuesday + 1;\n        return \"\";\n\n      case \"3\":\n        wednesday = wednesday + 1;\n        return \"\";\n\n      case \"4\":\n        thursday = thursday + 1;\n        return \"\";\n\n      case \"5\":\n        friday = friday + 1;\n        return \"\";\n\n      case \"6\":\n        saturday = saturday + 1;\n        return \"\";\n\n      default:\n        return \"\";\n    }\n  });\n  let mostDaysObj = {\n    sunday: sunday,\n    monday: monday,\n    tuesday: tuesday,\n    wednesday: wednesday,\n    thursday: thursday,\n    friday: friday,\n    saturday: saturday\n  };\n  var sortable = [];\n\n  for (var day in mostDaysObj) {\n    sortable.push([day, mostDaysObj[day]]);\n  }\n\n  let sortedCategories = sortable.sort(function (a, b) {\n    return b[1] - a[1];\n  });\n  return {\n    mostSpentDay: expenses.length ? sortedCategories[0][0] : \"-\",\n    leastSpentDay: expenses.length ? sortedCategories[6][0] : \"-\"\n  };\n}; // Total expenses in Each month\n\nexport const totalExpensesInEachMonthOfThisYear = (expenses, eachExpense, currentUser, selectedYear) => {\n  let expensesOfAllMonthsInThisYear = [];\n\n  for (var i = 0; i <= 11; i++) {\n    expensesOfAllMonthsInThisYear.push(totalExpense(expensesinMonth(eachExpense, currentUser, String(i), selectedYear)));\n  }\n\n  return expensesOfAllMonthsInThisYear;\n}; // Total for each category\n\nexport const calculateTotalForAllCategories = expenses => {\n  const categories = [\"Food\", \"Automobile\", \"Entertainment\", \"Clothing\", \"Healthcare\", \"Travel\", \"Shopping\", \"Personal Care\", \"Investment\", \"Gifts & Donations\", \"Bills & Utilities\", \"Others\"];\n  let categoryTotal = {\n    Food: 0,\n    Automobile: 0,\n    Entertainment: 0,\n    Clothing: 0,\n    Healthcare: 0,\n    Travel: 0,\n    Shopping: 0,\n    \"Personal Care\": 0,\n    Investment: 0,\n    \"Gifts & Donations\": 0,\n    \"Bills & Utilities\": 0,\n    Others: 0\n  };\n\n  const totalForACategory = function (expenses, category) {\n    let temp = expenses.filter(elem => elem.value.category === category).map(el => Number(el.value.expense));\n    var category = category;\n\n    if (temp.length) {\n      return categoryTotal[category] = temp.reduce((prev, cur) => prev + cur);\n    } else {\n      return categoryTotal[category] = 0;\n    }\n  };\n\n  categories.map(category => totalForACategory(expenses, category));\n  console.log(\"category total\", categoryTotal);\n  return categoryTotal;\n}; // most spent on category\n\nexport const mostSpentCategory = expenses => {\n  let categoryTotals = calculateTotalForAllCategories(expenses);\n  var sortable = [];\n\n  for (var cat in categoryTotals) {\n    sortable.push([cat, categoryTotals[cat]]);\n  }\n\n  let sortedCategories = sortable.sort(function (a, b) {\n    return b[1] - a[1];\n  });\n  return expenses.length ? sortedCategories[0][0] : \"-\";\n}; // all categories\n\nexport const categories = [\"Food\", \"Automobile\", \"Entertainment\", \"Clothing\", \"Healthcare\", \"Travel\", \"Shopping\", \"Personal Care\", \"Investment\", \"Gifts & Donations\", \"Bills & Utilities\", \"Others\"]; // colors for each category\n\nexport const categoryColors = [\"#FF965D\", \"#FFCC78\", \"#A08E78\", \"#8DA685\", \"#00A3EA\", \"#3EA75E\", \"#16B498\", \"#FF1945\", \"#FF5473\", \"#927959\", \"#7E0332\", \"#872AEF\"]; // retrun border color for each category - daily and monthly view\n\n/*\r\n@method : categoryName\r\n@params : \r\n    cat: category name\r\n    name: name of the component (Basically we're retrieving styles based on category here)\r\n@return : styles based on category for a particular component based on name \r\n*/\n\nexport const categoryName = (cat, name) => {\n  switch (cat) {\n    case \"Food\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF965D\"\n      } : {\n        borderLeft: \"10px solid #FF965D\"\n      };\n\n    case \"Automobile\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FFCC78\"\n      } : {\n        borderLeft: \"10px solid #FFCC78\"\n      };\n\n    case \"Entertainment\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #A08E78\"\n      } : {\n        borderLeft: \"10px solid #A08E78\"\n      };\n\n    case \"Clothing\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #8DA685\"\n      } : {\n        borderLeft: \"10px solid #8DA685\"\n      };\n\n    case \"Healthcare\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #00A3EA\"\n      } : {\n        borderLeft: \"10px solid #00A3EA\"\n      };\n\n    case \"Travel\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #3EA75E\"\n      } : {\n        borderLeft: \"10px solid #3EA75E\"\n      };\n\n    case \"Shopping\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #16B498\"\n      } : {\n        borderLeft: \"10px solid #16B498\"\n      };\n\n    case \"Personal Care\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF1945\"\n      } : {\n        borderLeft: \"10px solid #FF1945\"\n      };\n\n    case \"Investment\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #FF5473\"\n      } : {\n        borderLeft: \"10px solid #FF5473\"\n      };\n\n    case \"Gifts & Donations\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #927959\"\n      } : {\n        borderLeft: \"10px solid #927959\"\n      };\n\n    case \"Bills & Utilities\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #7E0332\"\n      } : {\n        borderLeft: \"10px solid #7E0332\"\n      };\n\n    case \"Others\":\n      return name === \"card\" ? {\n        borderBottom: \"5px solid #872AEF\"\n      } : {\n        borderLeft: \"10px solid #872AEF\"\n      };\n\n    default:\n      return {\n        borderBottom: \"5px solid orange\"\n      };\n  }\n};\nexport const categoryIcon = category => {\n  switch (category) {\n    case \"Food\":\n      return \"cutlery\";\n\n    case \"Automobile\":\n      return \"motorcycle\";\n\n    case \"Entertainment\":\n      return \"film\";\n\n    case \"Clothing\":\n      return \"shopping-bag\";\n\n    case \"Healthcare\":\n      return \"medkit\";\n\n    case \"Travel\":\n      return \"plane\";\n\n    case \"Shopping\":\n      return \"shopping-cart\";\n\n    case \"Personal Care\":\n      return \"user-md\";\n\n    case \"Investment\":\n      return \"get-pocket\";\n\n    case \"Gifts & Donations\":\n      return \"gift\";\n\n    case \"Bills & Utilities\":\n      return \"columns\";\n\n    case \"Others\":\n      return \"circle-o\";\n\n    default:\n      return \"bars\";\n  }\n};\nexport const getCatColor = category => {\n  switch (category) {\n    case \"Food\":\n      return \"#FF965D\";\n\n    case \"Automobile\":\n      return \"#FFCC78\";\n\n    case \"Entertainment\":\n      return \"#A08E78\";\n\n    case \"Clothing\":\n      return \"#8DA685\";\n\n    case \"Healthcare\":\n      return \"#00A3EA\";\n\n    case \"Travel\":\n      return \"#3EA75E\";\n\n    case \"Shopping\":\n      return \"#16B498\";\n\n    case \"Personal Care\":\n      return \"#FF1945\";\n\n    case \"Investment\":\n      return \"#FF5473\";\n\n    case \"Gifts & Donations\":\n      return \"#927959\";\n\n    case \"Bills & Utilities\":\n      return \"#7E0332\";\n\n    case \"Others\":\n      return \"#872AEF\";\n\n    default:\n      return \"#fff\";\n  }\n};\nexport const setCurrencyIcon = currency => {\n  switch (currency) {\n    case \"Indian Rupees\":\n      return \"fa-rupee\";\n\n    case \"US Dollars\":\n      return \"fa-dollar\";\n\n    case \"Pounds\":\n      return \"fa-gbp\";\n\n    case \"Yen\":\n      return \"fa-yen\";\n\n    case \"Euro\":\n      return \"fa-euro\";\n\n    default:\n      return \"fa-rupee\";\n  }\n};\nexport const filterExpensesByCriteria = (startDate, endDate, category, expenseFrom, expenseTo, thisUsersExpenses) => {\n  var start = new Date(startDate);\n  var end = new Date(endDate);\n  var currentDate = new Date(start);\n  var between = [];\n  var filteredExpenses = [];\n\n  while (currentDate <= end) {\n    between.push(moment(new Date(currentDate)).format(\"MM/DD/YYYY\"));\n    currentDate.setDate(currentDate.getDate() + 1);\n  }\n\n  between.forEach(function (elem) {\n    return thisUsersExpenses.filter(function (el) {\n      return elem === el.value.date ? filteredExpenses.push(el) : \"\";\n    });\n  });\n  filteredExpenses = filteredExpenses.filter(elem => {\n    return elem.value.category === category;\n  }).filter(elem => {\n    return Number(elem.value.expense) >= Number(expenseFrom) && Number(elem.value.expense) <= Number(expenseTo);\n  });\n  return filteredExpenses;\n}; // Total loan amount that you need to pay or get paid\n\nexport const loanTakenOrGivenAmt = (thisUsersLoans, takenOrGiven) => {\n  if (thisUsersLoans.length && takenOrGiven) {\n    let loans = thisUsersLoans.filter(elem => elem.value.loanType === takenOrGiven && elem.value.status === \"Pending\");\n    return loans.length ? loans.map(elem => Number(elem.value.amount)).reduce((prev, cur) => prev + cur) : 0;\n  } else {\n    return 0;\n  }\n}; // get all the dates of a particular week\n\n/*const today = moment();\r\n        const sevenDaysBefore = moment().subtract(7, 'days');\r\n        console.log(today)\r\n        console.log(sevenDaysBefore)*/\n// get all the dates of a particular monthly\n\nexport const getAllTheDatesInAMonth = (selectedYear, selectedMonth) => {\n  //var date = new Date(), y = date.getFullYear(), m = date.getMonth();\n  var firstDay = new Date(Number(selectedYear), Number(selectedMonth), 1);\n  var lastDay = new Date(Number(selectedYear), Number(selectedMonth) + 1, 0);\n  firstDay = moment(firstDay).format(\"MM/DD/YYYY\");\n  lastDay = moment(lastDay).format(\"MM/DD/YYYY\"); // Returns an array of dates between the two dates\n\n  var getDates = function (startDate, endDate) {\n    var dates = [],\n        currentDate = startDate,\n        addDays = function (days) {\n      var date = new Date(this.valueOf());\n      date.setDate(date.getDate() + days);\n      return date;\n    };\n\n    while (currentDate <= endDate) {\n      dates.push(currentDate);\n      currentDate = addDays.call(currentDate, 1);\n    }\n\n    return dates.map(date => moment(date).format(\"MM/DD/YYYY\"));\n  }; // Usage\n\n\n  var dates = getDates(new Date(firstDay), new Date(lastDay)); //var datesinSelectedMonth = [];\n  //dates.map(function (date) {\n  //datesinSelectedMonth.push(moment(date).format(\"MM/DD/YYYY\"));\n  //});\n\n  return dates;\n}; // previous 3 and next 3 years\n\nexport const yearsGenereator = () => {\n  var defaultYears = [];\n  var dateVal = new Date();\n  var currentYear = dateVal.getFullYear();\n  var cutOffYears = 4; // using 5 years as cutoff as per reports cutoffyears to keep inline\n\n  for (var i = currentYear - cutOffYears; i <= currentYear + cutOffYears; i++) {\n    defaultYears.push(i);\n  }\n\n  return defaultYears;\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"AllExpensesInDate\");","map":{"version":3,"sources":["D:/React Projects/my-app/src/Util.js"],"names":["moment","eachExpense","expenses","Object","keys","map","key","value","sort","a","b","Date","date","currentUsersExpenses","currentUser","filter","elem","user_id","uid","expensesinMonthAndYear","selectedMonth","selectedYear","getFullYear","toString","getMonth","expensesinSelectedYear","expensesInDate","AllExpensesInDate","type","currentMonthExpenses","expensesinCurrentYear","expensesinMonth","MonthNumber","expensesToday","getDate","expensesThisWeek","week","year","totalExpense","length","totalMoney","Number","parseFloat","price","reduce","prev","cur","mostSpentDay","monday","tuesday","wednesday","thursday","friday","saturday","sunday","day","mostDaysObj","sortable","push","sortedCategories","leastSpentDay","totalExpensesInEachMonthOfThisYear","expensesOfAllMonthsInThisYear","i","String","calculateTotalForAllCategories","categories","categoryTotal","Food","Automobile","Entertainment","Clothing","Healthcare","Travel","Shopping","Investment","Others","totalForACategory","category","temp","el","expense","console","log","mostSpentCategory","categoryTotals","cat","categoryColors","categoryName","name","borderBottom","borderLeft","categoryIcon","getCatColor","setCurrencyIcon","currency","filterExpensesByCriteria","startDate","endDate","expenseFrom","expenseTo","thisUsersExpenses","start","end","currentDate","between","filteredExpenses","format","setDate","forEach","loanTakenOrGivenAmt","thisUsersLoans","takenOrGiven","loans","loanType","status","amount","getAllTheDatesInAMonth","firstDay","lastDay","getDates","dates","addDays","days","valueOf","call","yearsGenereator","defaultYears","dateVal","currentYear","cutOffYears"],"mappings":"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","sourcesContent":["import moment from \"moment\";\r\n\r\nexport const eachExpense = expenses => {\r\n    return Object.keys(expenses)\r\n        .map(function (key) {\r\n            return { key: key, value: expenses[key] };\r\n        })\r\n        .sort(function (a, b) {\r\n            // Turn your strings into dates, and then subtract them\r\n            // to get a value that is either negative, positive, or zero.\r\n            return new Date(b.value.date) - new Date(a.value.date);\r\n        });\r\n};\r\n\r\nexport const currentUsersExpenses = (eachExpense, currentUser) => {\r\n    return eachExpense.filter(elem => elem.value.user_id === currentUser.uid);\r\n};\r\n\r\n// expenses in selected month and year\r\nexport const expensesinMonthAndYear = (eachExpense, currentUser, selectedMonth, selectedYear) => {\r\n    return eachExpense\r\n        .filter(elem => elem.value.uid === currentUser.uid)\r\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString())\r\n        .filter(elem => new Date(elem.value.date).getMonth().toString() === selectedMonth);\r\n};\r\n\r\n// expenses in selected year\r\nexport const expensesinSelectedYear = (eachExpense, currentUser, selectedYear) => {\r\n    return eachExpense\r\n        .filter(elem => elem.value.uid === currentUser.uid)\r\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString());\r\n};\r\n\r\n// expenses in a selected date\r\nexport const expensesInDate = (eachExpense, currentUser, date) => {\r\n    return eachExpense.filter(elem => elem.value.user_id === currentUser.uid && elem.value.date === date);\r\n};\r\n\r\nexport const AllExpensesInDate = (eachExpense, currentUser, date) => {\r\n    return eachExpense.filter(elem => elem.value.user_id === currentUser.uid && elem.value.date === date && elem.value.type ==='expenses');\r\n};\r\n\r\n\r\n// expenses in current month\r\nexport const currentMonthExpenses = (eachExpense, currentUser) => {\r\n    return eachExpense.filter(\r\n        elem =>\r\n            elem.value.uid === currentUser.uid &&\r\n            new Date(elem.value.date).getMonth() === new Date().getMonth() &&\r\n            new Date(elem.value.date).getFullYear() === new Date().getFullYear()\r\n    );\r\n};\r\n\r\n// expense in current year\r\nexport const expensesinCurrentYear = (eachExpense, currentUser) => {\r\n    return eachExpense\r\n        .filter(elem => elem.value.uid === currentUser.uid)\r\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === new Date().getFullYear().toString());\r\n};\r\n\r\n// expenses in a particular month of this year\r\nexport const expensesinMonth = (eachExpense, currentUser, MonthNumber, selectedYear) => {\r\n    return eachExpense\r\n        .filter(elem => elem.value.uid === currentUser.uid)\r\n        .filter(elem => new Date(elem.value.date).getFullYear().toString() === selectedYear.toString())\r\n        .filter(elem => new Date(elem.value.date).getMonth().toString() === MonthNumber);\r\n};\r\n\r\n// expense today\r\nexport const expensesToday = (eachExpense, currentUser) => {\r\n    return eachExpense\r\n        .filter(\r\n            elem => elem.value.user_id === currentUser.uid && new Date(elem.value.date).getMonth() === new Date().getMonth()\r\n        )\r\n        .filter(elem => new Date(elem.value.date).getDate() === new Date().getDate());\r\n};\r\n\r\n// expense this week\r\nexport const expensesThisWeek = (eachExpense, currentUser) => {\r\n    return eachExpense.filter(\r\n        elem =>\r\n            elem.value.uid === currentUser.uid &&\r\n            moment(elem.value.date, \"MM/DD/YYYY\").week() === moment(moment(new Date()), \"MM/DD/YYYY\").week() &&\r\n            moment(elem.value.date, \"MM/DD/YYYY\").year() === moment(moment(new Date()), \"MM/DD/YYYY\").year()\r\n    );\r\n};\r\n\r\n// expenses Total\r\nexport const totalExpense = expenses => {\r\n    if (expenses.length) {\r\n        let totalMoney = 0;\r\n        return (expenses.map(elem => Number(\r\n            elem.value.type === 'income' ? \r\n                    parseFloat(elem.value.price) + totalMoney\r\n                    : totalMoney - parseFloat(elem.value.price)\r\n            )).reduce((prev, cur) => prev + cur)\r\n        \r\n        );\r\n    } else {\r\n        return 0;\r\n    }\r\n};\r\n\r\n// most spend day\r\nexport const mostSpentDay = expenses => {\r\n    let monday = 0;\r\n    let tuesday = 0;\r\n    let wednesday = 0;\r\n    let thursday = 0;\r\n    let friday = 0;\r\n    let saturday = 0;\r\n    let sunday = 0;\r\n\r\n    expenses.map(elem => {\r\n        switch (elem.value.day.toString()) {\r\n            case \"0\":\r\n                sunday = sunday + 1;\r\n                return \"\";\r\n            case \"1\":\r\n                monday = monday + 1;\r\n                return \"\";\r\n            case \"2\":\r\n                tuesday = tuesday + 1;\r\n                return \"\";\r\n            case \"3\":\r\n                wednesday = wednesday + 1;\r\n                return \"\";\r\n            case \"4\":\r\n                thursday = thursday + 1;\r\n                return \"\";\r\n            case \"5\":\r\n                friday = friday + 1;\r\n                return \"\";\r\n            case \"6\":\r\n                saturday = saturday + 1;\r\n                return \"\";\r\n            default:\r\n                return \"\";\r\n        }\r\n    });\r\n\r\n    let mostDaysObj = {\r\n        sunday: sunday,\r\n        monday: monday,\r\n        tuesday: tuesday,\r\n        wednesday: wednesday,\r\n        thursday: thursday,\r\n        friday: friday,\r\n        saturday: saturday\r\n    };\r\n\r\n    var sortable = [];\r\n    for (var day in mostDaysObj) {\r\n        sortable.push([day, mostDaysObj[day]]);\r\n    }\r\n\r\n    let sortedCategories = sortable.sort(function (a, b) {\r\n        return b[1] - a[1];\r\n    });\r\n\r\n    return {\r\n        mostSpentDay: expenses.length ? sortedCategories[0][0] : \"-\",\r\n        leastSpentDay: expenses.length ? sortedCategories[6][0] : \"-\"\r\n    };\r\n};\r\n\r\n// Total expenses in Each month\r\nexport const totalExpensesInEachMonthOfThisYear = (expenses, eachExpense, currentUser, selectedYear) => {\r\n    let expensesOfAllMonthsInThisYear = [];\r\n\r\n    for (var i = 0; i <= 11; i++) {\r\n        expensesOfAllMonthsInThisYear.push(\r\n            totalExpense(expensesinMonth(eachExpense, currentUser, String(i), selectedYear))\r\n        );\r\n    }\r\n    return expensesOfAllMonthsInThisYear;\r\n};\r\n\r\n// Total for each category\r\nexport const calculateTotalForAllCategories = expenses => {\r\n    const categories = [\r\n        \"Food\",\r\n        \"Automobile\",\r\n        \"Entertainment\",\r\n        \"Clothing\",\r\n        \"Healthcare\",\r\n        \"Travel\",\r\n        \"Shopping\",\r\n        \"Personal Care\",\r\n        \"Investment\",\r\n        \"Gifts & Donations\",\r\n        \"Bills & Utilities\",\r\n        \"Others\"\r\n    ];\r\n\r\n    let categoryTotal = {\r\n        Food: 0,\r\n        Automobile: 0,\r\n        Entertainment: 0,\r\n        Clothing: 0,\r\n        Healthcare: 0,\r\n        Travel: 0,\r\n        Shopping: 0,\r\n        \"Personal Care\": 0,\r\n        Investment: 0,\r\n        \"Gifts & Donations\": 0,\r\n        \"Bills & Utilities\": 0,\r\n        Others: 0\r\n    };\r\n\r\n    const totalForACategory = function (expenses, category) {\r\n        let temp = expenses.filter(elem => elem.value.category === category).map(el => Number(el.value.expense));\r\n\r\n        var category = category;\r\n        if (temp.length) {\r\n            return (categoryTotal[category] = temp.reduce((prev, cur) => prev + cur));\r\n        } else {\r\n            return (categoryTotal[category] = 0);\r\n        }\r\n    };\r\n\r\n    categories.map(category => totalForACategory(expenses, category));\r\n\r\n    console.log(\"category total\", categoryTotal)\r\n\r\n    return categoryTotal;\r\n};\r\n\r\n// most spent on category\r\nexport const mostSpentCategory = expenses => {\r\n    let categoryTotals = calculateTotalForAllCategories(expenses);\r\n\r\n    var sortable = [];\r\n    for (var cat in categoryTotals) {\r\n        sortable.push([cat, categoryTotals[cat]]);\r\n    }\r\n\r\n    let sortedCategories = sortable.sort(function (a, b) {\r\n        return b[1] - a[1];\r\n    });\r\n\r\n    return expenses.length ? sortedCategories[0][0] : \"-\";\r\n};\r\n\r\n// all categories\r\nexport const categories = [\r\n    \"Food\",\r\n    \"Automobile\",\r\n    \"Entertainment\",\r\n    \"Clothing\",\r\n    \"Healthcare\",\r\n    \"Travel\",\r\n    \"Shopping\",\r\n    \"Personal Care\",\r\n    \"Investment\",\r\n    \"Gifts & Donations\",\r\n    \"Bills & Utilities\",\r\n    \"Others\"\r\n];\r\n\r\n// colors for each category\r\nexport const categoryColors = [\r\n    \"#FF965D\",\r\n    \"#FFCC78\",\r\n    \"#A08E78\",\r\n    \"#8DA685\",\r\n    \"#00A3EA\",\r\n    \"#3EA75E\",\r\n    \"#16B498\",\r\n    \"#FF1945\",\r\n    \"#FF5473\",\r\n    \"#927959\",\r\n    \"#7E0332\",\r\n    \"#872AEF\"\r\n];\r\n\r\n// retrun border color for each category - daily and monthly view\r\n/*\r\n@method : categoryName\r\n@params : \r\n    cat: category name\r\n    name: name of the component (Basically we're retrieving styles based on category here)\r\n@return : styles based on category for a particular component based on name \r\n*/\r\nexport const categoryName = (cat, name) => {\r\n    switch (cat) {\r\n        case \"Food\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #FF965D\" } : { borderLeft: \"10px solid #FF965D\" };\r\n        case \"Automobile\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #FFCC78\" } : { borderLeft: \"10px solid #FFCC78\" };\r\n        case \"Entertainment\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #A08E78\" } : { borderLeft: \"10px solid #A08E78\" };\r\n        case \"Clothing\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #8DA685\" } : { borderLeft: \"10px solid #8DA685\" };\r\n        case \"Healthcare\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #00A3EA\" } : { borderLeft: \"10px solid #00A3EA\" };\r\n        case \"Travel\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #3EA75E\" } : { borderLeft: \"10px solid #3EA75E\" };\r\n        case \"Shopping\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #16B498\" } : { borderLeft: \"10px solid #16B498\" };\r\n        case \"Personal Care\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #FF1945\" } : { borderLeft: \"10px solid #FF1945\" };\r\n        case \"Investment\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #FF5473\" } : { borderLeft: \"10px solid #FF5473\" };\r\n        case \"Gifts & Donations\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #927959\" } : { borderLeft: \"10px solid #927959\" };\r\n        case \"Bills & Utilities\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #7E0332\" } : { borderLeft: \"10px solid #7E0332\" };\r\n        case \"Others\":\r\n            return name === \"card\" ? { borderBottom: \"5px solid #872AEF\" } : { borderLeft: \"10px solid #872AEF\" };\r\n        default:\r\n            return { borderBottom: \"5px solid orange\" };\r\n    }\r\n};\r\n\r\nexport const categoryIcon = category => {\r\n    switch (category) {\r\n        case \"Food\":\r\n            return \"cutlery\";\r\n        case \"Automobile\":\r\n            return \"motorcycle\";\r\n        case \"Entertainment\":\r\n            return \"film\";\r\n        case \"Clothing\":\r\n            return \"shopping-bag\";\r\n        case \"Healthcare\":\r\n            return \"medkit\";\r\n        case \"Travel\":\r\n            return \"plane\";\r\n        case \"Shopping\":\r\n            return \"shopping-cart\";\r\n        case \"Personal Care\":\r\n            return \"user-md\";\r\n        case \"Investment\":\r\n            return \"get-pocket\";\r\n        case \"Gifts & Donations\":\r\n            return \"gift\";\r\n        case \"Bills & Utilities\":\r\n            return \"columns\";\r\n        case \"Others\":\r\n            return \"circle-o\";\r\n        default:\r\n            return \"bars\";\r\n    }\r\n};\r\n\r\nexport const getCatColor = category => {\r\n    switch (category) {\r\n        case \"Food\":\r\n            return \"#FF965D\";\r\n        case \"Automobile\":\r\n            return \"#FFCC78\";\r\n        case \"Entertainment\":\r\n            return \"#A08E78\";\r\n        case \"Clothing\":\r\n            return \"#8DA685\";\r\n        case \"Healthcare\":\r\n            return \"#00A3EA\";\r\n        case \"Travel\":\r\n            return \"#3EA75E\";\r\n        case \"Shopping\":\r\n            return \"#16B498\";\r\n        case \"Personal Care\":\r\n            return \"#FF1945\";\r\n        case \"Investment\":\r\n            return \"#FF5473\";\r\n        case \"Gifts & Donations\":\r\n            return \"#927959\";\r\n        case \"Bills & Utilities\":\r\n            return \"#7E0332\";\r\n        case \"Others\":\r\n            return \"#872AEF\";\r\n        default:\r\n            return \"#fff\";\r\n    }\r\n};\r\n\r\nexport const setCurrencyIcon = currency => {\r\n    switch (currency) {\r\n        case \"Indian Rupees\":\r\n            return \"fa-rupee\";\r\n        case \"US Dollars\":\r\n            return \"fa-dollar\";\r\n        case \"Pounds\":\r\n            return \"fa-gbp\";\r\n        case \"Yen\":\r\n            return \"fa-yen\";\r\n        case \"Euro\":\r\n            return \"fa-euro\";\r\n        default:\r\n            return \"fa-rupee\";\r\n    }\r\n};\r\n\r\nexport const filterExpensesByCriteria = (startDate, endDate, category, expenseFrom, expenseTo, thisUsersExpenses) => {\r\n    var start = new Date(startDate);\r\n    var end = new Date(endDate);\r\n    var currentDate = new Date(start);\r\n    var between = [];\r\n    var filteredExpenses = [];\r\n\r\n    while (currentDate <= end) {\r\n        between.push(moment(new Date(currentDate)).format(\"MM/DD/YYYY\"));\r\n        currentDate.setDate(currentDate.getDate() + 1);\r\n    }\r\n\r\n    between.forEach(function (elem) {\r\n        return thisUsersExpenses.filter(function (el) {\r\n            return elem === el.value.date ? filteredExpenses.push(el) : \"\";\r\n        });\r\n    });\r\n\r\n    filteredExpenses = filteredExpenses\r\n        .filter(elem => {\r\n            return elem.value.category === category;\r\n        })\r\n        .filter(elem => {\r\n            return Number(elem.value.expense) >= Number(expenseFrom) && Number(elem.value.expense) <= Number(expenseTo);\r\n        });\r\n\r\n    return filteredExpenses;\r\n};\r\n\r\n// Total loan amount that you need to pay or get paid\r\nexport const loanTakenOrGivenAmt = (thisUsersLoans, takenOrGiven) => {\r\n    if (thisUsersLoans.length && takenOrGiven) {\r\n        let loans = thisUsersLoans.filter(\r\n            elem => elem.value.loanType === takenOrGiven && elem.value.status === \"Pending\"\r\n        );\r\n\r\n        return loans.length ? loans.map(elem => Number(elem.value.amount)).reduce((prev, cur) => prev + cur) : 0;\r\n    } else {\r\n        return 0;\r\n    }\r\n};\r\n\r\n// get all the dates of a particular week\r\n/*const today = moment();\r\n        const sevenDaysBefore = moment().subtract(7, 'days');\r\n        console.log(today)\r\n        console.log(sevenDaysBefore)*/\r\n\r\n\r\n// get all the dates of a particular monthly\r\n\r\nexport const getAllTheDatesInAMonth = (selectedYear, selectedMonth) => {\r\n    //var date = new Date(), y = date.getFullYear(), m = date.getMonth();\r\n    var firstDay = new Date(Number(selectedYear), Number(selectedMonth), 1);\r\n    var lastDay = new Date(Number(selectedYear), Number(selectedMonth) + 1, 0);\r\n\r\n    firstDay = moment(firstDay).format(\"MM/DD/YYYY\");\r\n    lastDay = moment(lastDay).format(\"MM/DD/YYYY\");\r\n\r\n    // Returns an array of dates between the two dates\r\n    var getDates = function (startDate, endDate) {\r\n        var dates = [],\r\n            currentDate = startDate,\r\n            addDays = function (days) {\r\n                var date = new Date(this.valueOf());\r\n                date.setDate(date.getDate() + days);\r\n                return date;\r\n            };\r\n        while (currentDate <= endDate) {\r\n            dates.push(currentDate);\r\n            currentDate = addDays.call(currentDate, 1);\r\n        }\r\n        return dates.map(date => moment(date).format(\"MM/DD/YYYY\"));\r\n    };\r\n\r\n    // Usage\r\n    var dates = getDates(new Date(firstDay), new Date(lastDay));\r\n    //var datesinSelectedMonth = [];\r\n    //dates.map(function (date) {\r\n    //datesinSelectedMonth.push(moment(date).format(\"MM/DD/YYYY\"));\r\n    //});\r\n\r\n    return dates;\r\n};\r\n\r\n// previous 3 and next 3 years\r\nexport const yearsGenereator = () => {\r\n    var defaultYears = [];\r\n    var dateVal = new Date();\r\n    var currentYear = dateVal.getFullYear();\r\n    var cutOffYears = 4; // using 5 years as cutoff as per reports cutoffyears to keep inline\r\n    for (var i = currentYear - cutOffYears; i <= currentYear + cutOffYears; i++) {\r\n        defaultYears.push(i);\r\n    }\r\n\r\n    return defaultYears;\r\n};\r\n"]},"metadata":{},"sourceType":"module"}